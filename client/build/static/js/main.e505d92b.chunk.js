(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),o=n(26),a=n.n(o),s=n(6),u=n(4),j=n.p+"static/media/logo.db397de1.png",d=n(3),b=n(13),l=n(14),h=n(12),O=n.n(h),p=n(7),x=n(8);function f(){var e=Object(p.a)(["\n  margin: 10px auto;\n  padding: 10px;\n  width: 40%;\n  align-content: center;\n  border-radius: 10px;\n  border-color: ",";\n  border-style: dashed;\n\n  &:hover {\n    color: ",";\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(p.a)(["\n  color: ",";\n  align-content: center;\n  border-radius: 10px;\n  margin: 20px;\n  padding: 10px;\n\n  a {\n    color: ","\n  }\n\n  ","\n"]);return m=function(){return e},e}function g(){var e=Object(p.a)(["\n  grid-row: 2;\n  grid-column: 2;\n"]);return g=function(){return e},e}function v(){var e=Object(p.a)(["\n  text-align: left;\n  grid-row: 1;\n  grid-column: 1;\n"]);return v=function(){return e},e}function y(){var e=Object(p.a)(["\n  width: 50px;\n"]);return y=function(){return e},e}function w(){var e=Object(p.a)(["\n  grid-row: 1;\n  grid-column: 2;\n"]);return w=function(){return e},e}function S(){var e=Object(p.a)(["\n  border: none;\n  margin: 10px;\n  padding: 10px;\n"]);return S=function(){return e},e}function k(){var e=Object(p.a)(["\n  list-style: none;\n"]);return k=function(){return e},e}function P(){var e=Object(p.a)(["\n  margin: auto;\n  padding: 10px;\n  width: 40%;\n  align-content: center;\n  border-radius: 10px;\n  box-shadow: 0 0 5px 2px rgba(0, 0, 0, .3);\n\n  ","\n"]);return P=function(){return e},e}function C(){var e=Object(p.a)(["\n  margin: 10px;\n  padding: 10px;\n"]);return C=function(){return e},e}function R(){var e=Object(p.a)(["\n  margin: 10px;\n  border: none;\n  padding: 10px;\n  border-radius: 10px;\n"]);return R=function(){return e},e}function T(){var e=Object(p.a)(["\n  text-align: center;\n  font-family: Arial, Verdana, sans-serif;\n  display: grid;\n  grid-template-columns: 100px auto;\n  grid-template-rows: repeat(2, 40px);\n  grid-gap: 1em;\n"]);return T=function(){return e},e}function N(){var e=Object(p.a)(["\n  color: ",";\n  background: ",";\n  padding: 10px;\n"]);return N=function(){return e},e}var I="#000",E="#fff",_="#484848",A="rgb(12, 201, 94)",D="rgb(255,202,58)",B="rgb(238, 111, 45)",F="rgb(238, 111, 45, 0.5)",H=x.a.div(N(),_,F),M=x.a.div(T()),J=x.a.button(R()),W=x.a.div(C()),q=x.a.div(P(),(function(e){return e.showFront?"background: ".concat(E,";\n    color: ").concat(_,";"):"background: ".concat(_,";\n    color: ").concat(E,";")})),K=x.a.ul(k()),Q=x.a.input(S()),z=x.a.header(w()),G=x.a.img(y()),L=x.a.nav(v()),V=x.a.section(g()),Y=x.a.div(m(),I,I,(function(e){return"now"===e.topicStatus&&"background: ".concat(B,";")||"thisWeek"===e.topicStatus&&"background: ".concat(D,";")||"nextWeek"===e.topicStatus&&"background: ".concat(A,";")})),U=x.a.div(f(),E,E),X=function(e,t){var n=Object(r.useState)(1),c=Object(d.a)(n,2),i=c[0],o=c[1],a=Math.ceil(e.length/t);return{next:function(){return o((function(e){return Math.min(e+1,a+1)}))},previous:function(){return o((function(e){return Math.max(e-1,1)}))},currentData:function(){var n=(i-1)*t,c=n+t;return e.slice(n,c)},currentPage:i,maxPage:a}},Z=function(e,t){var n=Object(r.useState)(localStorage.getItem(e)||t),c=Object(d.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){localStorage.setItem(e,i)}),[e,i]),[i,o]},$=function(e){var t=e.card,n=Object(r.useState)(!0),i=Object(d.a)(n,2),o=i[0],a=i[1],s=function(){a(!o)};return Object(c.jsx)(W,{children:o?Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Question"}),Object(c.jsx)(q,{showFront:o,onClick:s,children:Object(c.jsx)("h3",{children:t.question})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Answer"}),Object(c.jsx)(q,{showFront:o,onClick:s,children:Object(c.jsx)("h3",{children:t.answer})})]})},t._id)},ee=function(e){var t=e.topic;return Object(c.jsxs)(U,{children:[Object(c.jsx)("h4",{children:t.name}),Object(c.jsx)("p",{children:t.description})]},t._id)},te=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(c.jsxs)(L,{children:[Object(c.jsx)(b.a,{onClick:function(){i(!n)},icon:l.a,size:"2x"}),n&&Object(c.jsxs)(K,{children:[Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/",children:"Topics"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/about",children:"About"})})]})]})};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(M,{children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(z,{children:Object(c.jsx)(s.b,{to:"/",children:Object(c.jsx)(G,{src:j,alt:"Logo"})})}),Object(c.jsx)(te,{}),Object(c.jsx)(V,{children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{path:"/",exact:!0,component:function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),a=Object(d.a)(o,2),u=a[0],j=a[1],h=Object(r.useState)(""),p=Object(d.a)(h,2),x=p[0],f=p[1],m=Object(r.useState)(!1),g=Object(d.a)(m,2),v=g[0],y=g[1],w=Object(r.useReducer)((function(e){return e+1}),0),S=Object(d.a)(w,2)[1];Object(r.useEffect)((function(){fetch("/api/topics").then((function(e){return e.json()})).catch((function(e){return console.error("ERROR:",e)})).then(i)}),[]);var k=O()(),P=O()().add(7,"days"),C=n.filter((function(e){return O()(e.dateToNextBeRevised).isBefore(k)})),R=n.filter((function(e){return O()(e.dateToNextBeRevised).isBetween(k,P)})),T=n.filter((function(e){return O()(e.dateToNextBeRevised).isAfter(P)}));return Object(c.jsxs)("div",{className:"topics",children:[Object(c.jsxs)(Y,{topicStatus:"now",children:[Object(c.jsx)("h3",{children:"These topics need revision now"}),0!==C.length&&C.map((function(e){return Object(c.jsx)(s.b,{to:{pathname:"/cards",aboutProps:{topicId:e._id,topicName:e.name}},children:Object(c.jsx)(ee,{topic:e})},e._id)}))]}),Object(c.jsxs)(Y,{topicStatus:"thisWeek",children:[Object(c.jsx)("h3",{children:"These topics will need revision this week"}),0!==R.length&&R.map((function(e){return Object(c.jsx)(s.b,{to:{pathname:"/cards",aboutProps:{topicId:e._id,topicName:e.name}},children:Object(c.jsx)(ee,{topic:e})},e._id)}))]}),Object(c.jsxs)(Y,{topicStatus:"nextWeek",children:[Object(c.jsx)("h3",{children:"These topics don't need revising for now"}),0!==T.length&&T.map((function(e){return Object(c.jsx)(s.b,{to:{pathname:"/cards",aboutProps:{topicId:e._id,topicName:e.name}},children:Object(c.jsx)(ee,{topic:e})},e._id)}))]}),Object(c.jsx)(J,{type:"submit",onClick:function(){return y(!v)},children:v?Object(c.jsxs)("span",{children:["Hide ",Object(c.jsx)(b.a,{icon:l.b})]}):Object(c.jsxs)("span",{children:["Add new topic ",Object(c.jsx)(b.a,{icon:l.c})]})}),v&&Object(c.jsx)(H,{children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/topics",{method:"POST",body:JSON.stringify({name:u,description:x}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n.push(e),i(n),j(""),f(""),y(!v),S()}))},children:[Object(c.jsx)("label",{htmlFor:"name",children:"Topic name: "}),Object(c.jsx)(Q,{type:"text",name:"name",value:u,onChange:function(e){var t=e.target.value;return j(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"description",children:"Topic description: "}),Object(c.jsx)(Q,{type:"text",name:"description",value:x,onChange:function(e){var t=e.target.value;return f(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)(J,{type:"submit",disabled:!u,children:"OK"})]})})]})}}),Object(c.jsx)(u.a,{path:"/about",exact:!0,component:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"About"}),Object(c.jsx)("p",{children:"This interface will help you efficiently revise flashcards"}),Object(c.jsx)("p",{children:"Make a habit of coming back each day to revise the topics needing revision."}),Object(c.jsxs)("p",{children:["If you wish to use the REST API (for example to edit or delete a card or topic), please see the ",Object(c.jsx)("a",{href:"https://github.com/lydiamross/COMP6013",children:"documentation in the GitHub repository"})]})]})}}),Object(c.jsx)(u.a,{path:"/cards",exact:!0,component:function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),i=n[0],o=n[1],a=Object(r.useState)(""),u=Object(d.a)(a,2),j=u[0],h=u[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),f=x[0],m=x[1],g=Object(r.useState)(!1),v=Object(d.a)(g,2),y=v[0],w=v[1],S=Z("topicPath",null),k=Object(d.a)(S,2),P=k[0],C=k[1],R=Z("topicName",null),T=Object(d.a)(R,2),N=T[0],I=T[1],E=Object(r.useReducer)((function(e){return e+1}),0),_=Object(d.a)(E,2)[1],A=Object(r.useState)(),D=Object(d.a)(A,2),B=D[0],F=D[1],M=Object(r.useState)(!1),W=Object(d.a)(M,2),q=W[0],K=W[1];Object(r.useEffect)((function(){C(void 0!==e.location.aboutProps?e.location.aboutProps.topicId:P),I(void 0!==e.location.aboutProps?e.location.aboutProps.topicName:N),fetch("/api/cards/".concat(P)).then((function(e){return e.json()})).then(o).catch((function(e){console.error("ERROR:",e)}))}),[e.location.aboutProps,P,N,C,I]);var z=function(e,t){e.preventDefault(),fetch("/api/spaced",{method:"PATCH",body:JSON.stringify({_id:Y.currentData()[0]._id,status:e.target.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return Y.next(t)})).catch((function(e){console.error("ERROR:",e),F("Error")}))},G=i.filter((function(e){return O()(e.dateToNextBeRevised).isBefore(O()())})),L=X(G,1),V=X(i,1),Y=q?V:L,U=0!==Y.currentData().length&&Y.currentPage<=Y.maxPage,ee=0!==Y.maxPage&&Y.currentPage>Y.maxPage,te=0===V.currentData().length&&!ee,ne=0===Y.currentData().length&&!ee&&!te;return Object(c.jsxs)("div",{className:"cards",children:[Object(c.jsx)("h2",{children:N}),0!==i.length&&Y.currentData().map((function(e){return Object(c.jsx)($,{card:e},e._id)})),ne&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"There are no cards that need revising at the moment, but you can revise anyway if you like"}),Object(c.jsx)(J,{onClick:function(){return K(!0)},children:"Show all cards"})]}),te&&Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:"You don't have any cards yet - please add some!"})}),U&&Object(c.jsxs)("div",{children:[Object(c.jsx)(J,{title:"unsure",onClick:z,children:"I don't remember this at all"}),Object(c.jsx)(J,{title:"neutral",onClick:z,children:"I barely know this "}),Object(c.jsx)(J,{title:"confident",onClick:z,children:"I'm confident I know this"})]}),ee&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Well done!"}),Object(c.jsxs)("p",{children:["Please return ",Object(c.jsx)(s.b,{to:"/",children:"Home"})]})]}),Object(c.jsx)(J,{type:"submit",onClick:function(){w(!y),F("")},children:y?Object(c.jsxs)("span",{children:["Hide ",Object(c.jsx)(b.a,{icon:l.b})]}):Object(c.jsxs)("span",{children:["Add new card ",Object(c.jsx)(b.a,{icon:l.c})]})}),y&&Object(c.jsx)(H,{children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/cards",{method:"POST",body:JSON.stringify({type:"simple",topicId:P,question:j,answer:f}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){i.push(e),o(i),h(""),m(""),w(!y),_(),F("Card added")})).catch((function(e){console.error("ERROR:",e),F("Error - Card not added")}))},children:[Object(c.jsx)("label",{htmlFor:"question",children:"Question: "}),Object(c.jsx)(Q,{type:"text",name:"question",value:j,onChange:function(e){var t=e.target.value;return h(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"answer",children:"Answer: "}),Object(c.jsx)(Q,{type:"text",name:"answer",value:f,onChange:function(e){var t=e.target.value;return m(t)}}),Object(c.jsx)("br",{}),Object(c.jsx)(J,{type:"submit",disabled:!j||!f,children:"OK"})]})}),Object(c.jsx)("p",{children:B})]})}}),Object(c.jsx)(u.a,{component:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Not Found"}),Object(c.jsxs)("p",{children:["Please return ",Object(c.jsx)(s.b,{to:"/",children:"Home"})]})]})}})]})})]})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.e505d92b.chunk.js.map